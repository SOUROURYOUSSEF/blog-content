---
layout: post
title: "Linux distributions for ARM"
date: 2009-05-01
comments: false
categories:
 - arm
 - opensuse
 - linux
 - debian
 - qemu
 - fedora
 - ubuntu
---

<div class='post'>
Recently there is a lot of attention for the ARM port of Linux. This is of course related to the netbooks and specialized distributions like <a href="http://maemo.org/">Maemo</a> for the Nokia Internet Tablets and <a href="http://code.google.com/android/">Android</a> from Google. Earlier I wrote <a href="http://blog.gbraad.nl/2008/11/mojos-hasty-distribution-for-use-with.html">a short post</a> about the Hasty Hippogriff release of the <a href="http://mojo.handhelds.org/">Mojo Project</a>. This Nokia-sponsored project ported Ubuntu's Hardy Heron to the ARM architecture. It allowed a full desktop distribution to be run on hardware like <a href="http://beagleboard.org/">BeagleBoard</a>. Luckily the major distributions also have increased their support for ARM. <a href="http://opensuse.org/">openSUSE</a>, <a href="http://debian.org/">Debian</a> and <a href="http://ubuntu.com/">Ubuntu</a> officially announced their support for the ARM architecture in their next release. This will allow companies to use a distribution like openSUSE as a thin client solution or for hardware developers to use Debian as their base system.<br /><br />The distributions I have tried are <a href="http://fedoraproject.org/">Fedora</a> 10, Debian 5.0 (Lenny) and Ubuntu 9.04. Debian 5.0 (Lenny) and Ubuntu 9.04 (Jaunty Jackalope) are now released. Debian provides downloads and bootstrap tools in their distro and lots of documentation. Despite the announcement it seems Ubuntu only has a release candidate?! So the release schedule seemed to not apply for the ARM architecture. Fedora however did not official announce any ARM support, but has a wiki page which describe how to use their distribution. openSUSE recently released a testing milestone for their 11.2 release, but I was unable to find the packages necessary to make a base system. I do have to make a note here: the <a href="http://en.opensuse.org/Build_Service">openSUSE Build Service</a> (OBS) provides <a href="http://lizards.opensuse.org/2008/11/18/arm-support-for-opensuse-buildservice-and-opensuse/">ARM support</a> for building packages for Fedora 10, Debian 5.0 and Ubuntu 9.04.<br /><br />Below you can find the images I have created or used to test the distributions and the information I have used. These images are all base systems to get you started. They can serve as a starting point to create a build environment.<br /><br /><span style="font-weight: bold;">Fedora 10</span><br />Fedora does not provide official downloads, but all the files are provided on the <a href="http://fedoraproject.org/wiki/Architectures/ARM">wiki</a>. To ease the deployment from a Windows system I created a usable root image which you can download from <a href="http://dl.getdropbox.com/u/131903/arm/rootfs-fedora10.img.bz2">dropbox</a> or <a href="http://delivery.vipeers.com/publish?message_hash=gSZSsSQjEAu-kCwTmfZ6Qw==">vipeers</a> and the <a href="http://ftp.linux.org.uk/pub/linux/arm/fedora/qemu/zImage-versatile-2.6.24-rc7.armv5tel">kernel</a> (<a href="http://dl.getdropbox.com/u/131903/arm/zImage-versatile-2.6.24-rc7.armv5tel">dropbox</a>). The archive can be unpacked using a tool like Winrar.<br /><br />With the following command will start the qemu environment without networking:<br /><code><br />qemu-system-arm.exe -M versatilepb -kernel zImage-versatile-2.6.24-rc7.armv5tel -hda rootfs-f10.img -append "root=/dev/sda"<br /></code><br />You can login with username: root, without a password.<br /><br /><span style="font-weight: bold;">Ubuntu 9.04</span><br />Canonical only provides a Release Candidate for their ARM port of Jaunty Jackalope. You can find a the downloads from the <a href="http://cdimage.ubuntu.com/netboot/jaunty/">cdimage server</a>, such as a general image and an image for the NSLU2. I however built a new rootfs using the information provided on the <a href="https://wiki.ubuntu.com/ARM/RootfsFromScratch">wiki</a> and the build-arm-rootfs script. This script will use <span style="font-style:italic;">debootstrap</span> and qemu to produce a usable tarball or qemu image. I used the script to create a tarball and dumped this in a mounted image (the same as done for the fedora image).<br /><br />You can download the root image from <a href="http://dl.getdropbox.com/u/131903/arm/rootfs-jaunty.img.bz2">dropbox</a> or <a href="http://delivery.vipeers.com/publish?message_hash=B2asMVTEu50_C9ZtpU93QA==">vipeers</a> and the <a href="http://ports.ubuntu.com/ubuntu-ports/dists/jaunty/main/installer-armel/current/images/versatile/netboot/vmlinuz-2.6.28-11-versatile">kernel</a> (<a href="http://dl.getdropbox.com/u/131903/arm/vmlinuz-2.6.28-11-versatile">dropbox</a>).<br /><br />To start the environment:<br /><code><br />qemu-system-arm.exe -M versatilepb -kernel vmlinuz-2.6.28-11-versatile -hda rootfs-jaunty.img -append "root=/dev/sda"<br /></code><br />To login use the username: ubuntu and the password: ubuntu.<br /><br /><span style="font-weight:bold;">Debian 5.0</span><br />The ARM support for Ubuntu is no miracle, as their base distribution Debian has support for this <a href="http://www.debian.org/ports/arm/">architecture</a>. The <a href="http://www.debian.org/releases/stable/arm/">installation guide</a> can be found on the debian website. Using the <span style="font-style:italic;">debootstrap</span> tool you can easily create your own rootfs. On the webpage of Aur√©lien Jarno (aurel32) you can find a complete article which describe the process of <a href="http://www.aurel32.net/info/debian_arm_qemu.php">getting debian running on an emulated ARM</a> using qemu on Linux. The root images and kernel he uses can be found <a href="http://people.debian.org/~aurel32/qemu/arm/">here</a>.<br /><br />To start the environment:<br /><code><br />qemu-system-arm.exe -M versatilepb -kernel vmlinuz-2.6.26-2-versatile -hda debian_lenny_arm_small.qcow -append "root=/dev/sda1"<br /></code><br />To login using the username: user and password: user. The password for root is root.<br /><br /><span style="font-weight:bold;">Notes</span><br />Read the <a href="http://www.h7.dion.ne.jp/~qemu-win/HowToNetwork-en.html">How to use Network</a> if you want to enable networking for the qemu environment on Windows.</div>
